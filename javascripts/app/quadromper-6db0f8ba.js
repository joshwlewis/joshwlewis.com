Quad=function(t,s,h,n){this.container=t,this.color=s,this.opacity=0,this.growth=.005,this.setPoints=function(){var t=[[0,0],[1,0],[1,1],[0,1]],i=Math.floor(4*Math.random()),s=i+1;4===s&&(s=0);var h=s%2===0?0:1;t[i][h]=Math.random(),t[s][h]=Math.random(),this.points=t},this.createCanvas=function(t,i){this.canvas=$("<canvas>").prop({height:t,width:i}).css({opacity:this.opacity}).addClass("quad"),this.container.prepend(this.canvas)},this.getX=function(t){return Math.round(this.points[t][0]*this.canvas[0].width)},this.getY=function(t){return Math.round(this.points[t][1]*this.canvas[0].height)},this.draw=function(){var t=this.canvas[0].getContext("2d");for(t.fillStyle=this.color,t.beginPath(),t.moveTo(this.getX(0),this.getY(0)),i=3;i>=0;i--)t.lineTo(this.getX(i),this.getY(i));t.closePath(),t.fill()},this.increment=function(){this.opacity=this.opacity+this.growth,this.canvas.css({opacity:this.opacity}),this.opacity>=1&&(this.growth=-this.growth)},this.setDims=function(t,i){(t!==this.canvas[0].height||i!==this.canvas[0].width)&&(this.canvas[0].width=i,this.canvas[0].height=t,this.draw())},this.destroy=function(){this.canvas.remove()},this.setPoints(),this.createCanvas(h,n),this.draw()},Quadromper=function(t,i){this.container=t,this.colors=i,this.quads=[],this.step=0,this.pixelRatio=window.devicePixelRatio||1,this.getHeight=function(){var t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return t*this.pixelRatio},this.getWidth=function(){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);return t*this.pixelRatio},this.randomColor=function(){return this.colors[Math.floor(Math.random()*this.colors.length)]},this.buildQuad=function(){var t=new Quad(this.container,this.randomColor(),this.getHeight(),this.getWidth());return this.quads.push(t),t},this.render=function(){if(this.step%60===0&&this.buildQuad(),this.step%120===0){var t=this.getHeight(),i=this.getWidth();this.quads.forEach(function(s){s.setDims(t,i)})}this.step%2===0&&this.quads.forEach(function(t){t.increment()}),this.quads[0].opacity<=0&&(this.quads[0].destroy(),this.quads.shift()),this.step=this.step+1}};