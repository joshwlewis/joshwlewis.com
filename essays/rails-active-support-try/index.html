<!DOCTYPE html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<meta content='Josh W Lewis: Ruby Developer, JavaScript Engineer, Consultant, Entrepreneur, Husband, Dad, Memphian, and Disc Golfer' name='description'>
<title>Rails' ActiveSupport try | Josh W Lewis: Ruby Developer</title>
<meta content='width=device-width, initial-scale=1.0' name='viewport'>

<script src="../../javascripts/vendor/jquery-1d85f0f3.js"></script>
<script src="../../javascripts/vendor/modernizr-7a33327d.js"></script>
<script src="../../javascripts/app/quadromper-b771a5e2.js"></script>
<link href="../../stylesheets/blog-2eb92ba9.css" rel="stylesheet" />
</head>
<body>
<div id='background'></div>
<div class='container'>
<div class='space' id='headline'>
<img alt='Josh W Lewis' class='avatar' src='../../images/joshwlewis-c95195e7.jpg'>
<h5 class='crumb'>
<a href='/'>Josh W Lewis</a>
</h5>
<h5 class='crumb'>/</h5>
<h5 class='crumb'>
<a href="/essays">Essays</a>
</h5>
<h5 class='crumb'>/</h5>
<h5 class='crumb'>
<a href="/essays/rails-active-support-try">Rails' ActiveSupport try</a>
</h5>
</div>
<div class='surface'>
<h1><a href="/essays/rails-active-support-try">Rails' ActiveSupport try</a></h1>
<br>
<h4>
By
<a href='/' rel='author'>Josh W Lewis</a>
on April 26, 2013
</h4>
<br>
<p>ActiveSupport has a few great Ruby extensions that I just love. One of my favorites is try.</p>

<h3>.try()</h3>

<p>Try is a sneaky method for handling NoMethodErrors on NilClass. If you ever get stuck writing code like this:</p>
<pre class="highlight ruby"><code><span class="nb">name</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">name</span> <span class="k">unless</span> <span class="n">user</span><span class="p">.</span><span class="nf">nil?</span>
</code></pre>
<p>Consider using try instead:</p>
<pre class="highlight ruby"><code><span class="nb">name</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">try</span> <span class="ss">:name</span>
</code></pre>
<p>It&rsquo;s basically like using send, but it will return nil if the receiver is nil.</p>

<p>Here it works like send:</p>
<pre class="highlight ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span> <span class="ss">name: </span><span class="s2">"Josh"</span>    <span class="c1">#=&gt; #&lt;User&gt;</span>
<span class="n">user</span><span class="p">.</span><span class="nf">send</span> <span class="ss">:name</span>                 <span class="c1">#=&gt; "Josh"</span>
<span class="n">user</span><span class="p">.</span><span class="nf">try</span> <span class="ss">:name</span>                  <span class="c1">#=&gt; "Josh"</span>
</code></pre>
<p>And here it doesn&rsquo;t blow up with a NoMethodError:</p>
<pre class="highlight ruby"><code><span class="n">user</span> <span class="o">=</span> <span class="kp">nil</span>                      <span class="c1">#=&gt; nil</span>
<span class="n">user</span><span class="p">.</span><span class="nf">send</span> <span class="ss">:name</span>                 <span class="c1">#=&gt; NoMethodError</span>
<span class="n">user</span><span class="p">.</span><span class="nf">try</span> <span class="ss">:name</span>                  <span class="c1">#=&gt; nil</span>
</code></pre>
<p>EDIT: I still find try helpful in some cases, but I think it&rsquo;s best to
exercise caution with it. Many times delegation or the null object pattern
can solve your problem a little more eloquently. If you find yourself chaining
<code>try</code> you should probably look at another way to factor your code.</p>

<div class='highlight'>
This article was categorized as
<a href="/essays/categories/rails">rails</a> and <a href="/essays/categories/ruby">ruby</a>
</div>
</div>

<div class='footer-pad'></div>
<footer class='space' id='copyright'>
<span>
Copyright &copy
2017
</span>
<span>
Josh W Lewis
</span>
<span>
<a href='//feeds.feedburner.com/JoshWLewis'>
<i class='icon-rss'></i>
</a>
</span>
</footer>

</div>
<script src="../../javascripts/blog/body-ff9757df.js"></script>
</body>
