<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<title>Fast Sites with Middleman | Josh W Lewis: Ruby Developer</title>
<meta content='Create fast sites fast with your favorite Ruby tools | Josh W Lewis: Ruby Developer, JavaScript Engineer, Consultant, Entrepreneur, Husband, and Dad' name='description'>
<meta content='width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
<meta content='Josh W Lewis' name='author'>
<link href="../../stylesheets/slides-f35eda66.css" rel="stylesheet" />
</head>
<body class='impress-not-supported'>
<div class='fallback-message'><h3>Your browser doesn&rsquo;t support the features needed to display this presentation.</h3>

<p>A simplified version of this presentation follows.</p>

<p>For the best experience, please use one of the following browsers:</p>

<ul>
<li><a href="//www.google.com/chrome">Chrome</a></li>
<li><a href="//www.apple.com/safari">Safari</a></li>
<li><a href="//www.mozilla.org/firefox">Firefox</a></li>
</ul>
</div>
<div id='impress'>
<div id="title" class="step"><h1>Fast Sites with Middleman</h1>
<h4>
Josh W Lewis
<a href='//twitter.com/joshwlewis'>@joshwlewis</a>
</h4>
<date>5/23/2013</date>
</div><div id="project" class="step" data-y="1000" data-z="-1000"><h2>I want to create an application to build and display my slide decks!</h2>
</div><div id="options" class="step" data-x="951" data-y="1000" data-z="-309" data-rotate-y="-72"><h2>What could I use?</h2>
<ul>
<li>Rails?</li>
<li>Sinatra?</li>
<li>Django?</li>
<li>Node?</li>
</ul>
</div><div id="needs" class="step" data-x="588" data-y="1000" data-z="809" data-rotate-y="-144"><h3>Do I really need all this?</h3>
<ul>
<li>Authentication</li>
<li>Admin Panel</li>
<li>WYSIWYG Editor</li>
<li>Dynamic Page Handling</li>
<li>Database storage</li>
<li>Sophisticated Caching</li>
</ul>
</div><div id="static-site" class="step" data-x="-588" data-y="1000" data-z="809" data-rotate-y="-216"><h2>What about a plain HTML site?</h2>
<h4>
<ul>
<li>It would be fast...</li>
<li>I could put it on ANY server...</li>
</ul>
</h4>
</div><div id="sucks" class="step" data-x="-951" data-y="1000" data-z="-309" data-rotate-y="-288"><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">'utf-8'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">'IE=edge,chrome=1'</span> <span class="na">http-equiv=</span><span class="s">'X-UA-Compatible'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Plain HTML Site<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">"I don't want to write all this HTML"</span> <span class="na">name=</span><span class="s">'description'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">'width=device-width'</span> <span class="na">name=</span><span class="s">'viewport'</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
...
</code></pre>
<h3>....ugh! No Thanks!</h3>
</div><div id="middleman" class="step" data-y="2000" data-rotate-y="-360"><h2>Enter Middleman</h2>
<h4>Ruby based Static Site Generator</h4>
<h4>
<a href='//middlemanapp.com'>middlemanapp.com</a>
</h4>
</div><div id="benefits" class="step" data-y="2750" data-rotate-y="-360"><h3>Middleman lets you:</h3>
<ul>
<li>Write Ruby code</li>
<li>Use layouts, views and paritals</li>
<li>Use Rails-like helpers</li>
<li>Deploy anywhere</li>
<li>
<b>Build incredibly fast sites</b>
</li>
<li>
<b>Build sites incredibly fast</b>
</li>
</ul>
</div><div id="installation" class="step" data-y="3750" data-z="-750" data-rotate-y="-360"><h3>Prerequisites</h3>
<ul>
<li>Ruby (1.9+)</li>
<li>RubyGems</li>
<li>Bundler</li>
</ul>
<h3>Installation</h3>
<pre class="highlight shell"><code>gem install middleman
</code></pre></div><div id="workflow" class="step" data-y="3750" data-x="650" data-z="375" data-rotate-y="-480"><h3>Middleman Workflow</h3>
<ol>
<li>
Create project
<pre class="highlight shell"><code>middleman init sample
</code></pre></li>
<li>
Install dependencies
<pre class="highlight shell"><code><span class="nb">cd </span>sample
bundle install
</code></pre></li>
<li>
Run development server (localhost:4567)
<pre class="highlight shell"><code>bundle <span class="nb">exec </span>middleman server
</code></pre></li>
<li>... ?</li>
<li>
Build static files
<pre class="highlight shell"><code>bundle <span class="nb">exec </span>middleman build
</code></pre></li>
<li>Profit!</li>
</ol>
</div><div id="structure" class="step" data-y="3750" data-x="-650" data-z="375" data-rotate-y="-600"><h3>Sample Project Structure</h3>
<pre class="highlight plaintext"><code>- source
  - javascripts
    - example.coffee
  - stylesheets
    - example.sass
  - layouts
    - layout.haml
  - index.html.erb
  - about.md
- build
  - javascripts
    - example.js
  - stylesheets
    - example.css
  - index.html
  - about.html
</code></pre>
</div><div id="meta-outside" class="step" data-y="4750" data-rotate-y="-720"><h2>The code in this presentation...</h2>
</div><div id="meta-inside" class="step" data-x="319" data-y="4765" data-rotate-y="-720" data-scale="0.0025"><h2>...built this presentation.</h2>
<dl>
<dt>Source Code</dt>
<dd>
<a href='//github.com/joshwlewis/slides'>github.com/joshwlewis/slides</a>
</dd>
<dt>In Production</dt>
<dd>
<a href='//slides.joshwlewis.com/middleman'>slides.joshwlewis.com/middleman</a>
</dd>
</dl>
</div><div id="layouts" class="step" data-x="2000" data-y="6000"><h2>Layouts</h2>
<p>source/layouts/layout.haml</p>
<pre class="highlight haml"><code><span class="nn">!!!5
</span><span class="nt">%html</span>
  <span class="nt">%head</span>
    <span class="nt">%meta</span><span class="p">{</span><span class="ss">charset: </span><span class="s2">"utf-8"</span><span class="p">}</span>
    <span class="nt">%title</span><span class="p">=</span> <span class="n">page_title</span>
    <span class="nt">%meta</span><span class="p">{</span><span class="ss">name: </span><span class="s2">"description"</span><span class="p">,</span> <span class="ss">content: </span><span class="n">page_description</span><span class="p">}</span>
    ...
    <span class="p">=</span> <span class="n">stylesheet_link_tag</span> <span class="s2">"application"</span>
  <span class="nt">%body</span>
    <span class="nc">.fallback-message</span><span class="p">=</span> <span class="n">partial</span> <span class="s1">'fallback'</span>
    <span class="p">=</span> <span class="k">yield</span>
    ...
    <span class="p">=</span> <span class="n">javascript_include_tag</span> <span class="s2">"application"</span>
</code></pre>
</div><div id="helpers" class="step" data-x="1247" data-y="6000" data-z="-1564" data-rotate-y="51.5"><h2>Helpers</h2>
<p>source/helpers/site_helper.rb</p>
<pre class="highlight ruby"><code><span class="k">module</span> <span class="nn">SiteHelpers</span>
  <span class="k">def</span> <span class="nf">page_title</span>
    <span class="p">[</span><span class="n">data</span><span class="p">.</span><span class="nf">page</span><span class="p">.</span><span class="nf">title</span><span class="p">,</span> <span class="s2">"Josh W Lewis"</span><span class="p">].</span><span class="nf">compact</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s1">' | '</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">page_description</span>
    <span class="n">data</span><span class="p">.</span><span class="nf">page</span><span class="p">.</span><span class="nf">description</span> <span class="o">||</span> <span class="s2">"Slides by Josh W Lewis"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">opts</span><span class="o">=</span><span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
    <span class="n">content_tag</span> <span class="ss">:div</span><span class="p">,</span> <span class="ss">id: </span><span class="nb">id</span><span class="p">,</span> <span class="ss">class: :step</span><span class="p">,</span> <span class="ss">data: </span><span class="n">opts</span> <span class="k">do</span>
      <span class="n">capture</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block</span><span class="p">)</span> <span class="k">if</span> <span class="nb">block_given?</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div><div id="views" class="step" data-x="-445" data-y="6000" data-z="-1950" data-rotate-y="103"><h2>Views</h2>
<p>source/middleman/index.haml</p>
<pre class="highlight haml"><code>
<span class="p">-</span><span class="o">--</span>
title: Fast Sites with Middleman
published: true
description: Create fast sites fast with your favorite Ruby tools
<span class="p">-</span><span class="o">--</span>

<span class="p">=</span> <span class="n">step</span> <span class="s2">"title"</span> <span class="k">do</span>
  <span class="nt">%h1</span> Fast Sites with Middleman
  <span class="nt">%h4</span>
    Josh W Lewis
    <span class="nt">%a</span><span class="p">{</span><span class="ss">href: </span><span class="s2">"//twitter.com/joshwlewis"</span><span class="p">}</span> @joshwlewis
  <span class="nt">%date</span> 5/23/2013
</code></pre>
</div><div id="partials" class="step" data-x="-1802" data-y="6000" data-z="-868" data-rotate-y="154.5"><h2>Partials</h2>
<p>source/_fallback.md</p>
<pre class="highlight markdown"><code><span class="gu">### Your browser doesn't support the features needed to display this presentation.</span>

A simplified version of this presentation follows.

For the best experience, please use one of the following browsers:
<span class="p">
-</span> <span class="p">[</span><span class="nv">Chrome</span><span class="p">](</span><span class="sx">//www.google.com/chrome</span><span class="p">)</span>
<span class="p">-</span> <span class="p">[</span><span class="nv">Safari</span><span class="p">](</span><span class="sx">//www.apple.com/safari</span><span class="p">)</span>
<span class="p">-</span> <span class="p">[</span><span class="nv">Firefox</span><span class="p">](</span><span class="sx">//www.mozilla.org/firefox</span><span class="p">)</span>
</code></pre>
</div><div id="stylesheets" class="step" data-x="-1802" data-y="6000" data-z="868" data-rotate-y="206"><h2>Stylesheets</h2>
<p>source/stylesheets/application.sass</p>
<pre class="highlight sass"><code><span class="k">@import</span> <span class="s">url(//fonts.googleapis.com/css?family=Droid...</span>
<span class="k">@import</span> <span class="s">"vendor/solarized"</span>
<span class="nv">$sansFontFamily</span><span class="p">:</span> <span class="s2">"Droid Sans"</span><span class="o">,</span> <span class="s2">"Helvetica Neue"</span><span class="o">...</span>
<span class="nv">$monoFontFamily</span><span class="p">:</span> <span class="s2">"Droid Sans Mono"</span><span class="o">,</span> <span class="n">Monaco</span><span class="o">...</span>
<span class="nv">$baseFontSize</span><span class="p">:</span> <span class="m">26px</span>
<span class="nv">$baseLineHeight</span><span class="p">:</span> <span class="m">38px</span>
<span class="k">@import</span> <span class="s">"bootstrap"</span>

<span class="nt">body</span><span class="nc">.impress-supported</span>
  <span class="nc">.fallback-message</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span>
  <span class="nc">.step</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">900px</span>
  <span class="nn">#title</span><span class="o">,</span> <span class="nn">#middleman</span><span class="o">,</span> <span class="nn">#demo</span><span class="o">,</span> <span class="nn">#meta-outside</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span>
</code></pre>
</div><div id="javascripts" class="step" data-x="-445" data-y="6000" data-z="1950" data-rotate-y="257.5"><h2>Javascripts</h2>
<p>source/javascripts/application/tweet.coffee</p>
<pre class="highlight coffeescript"><code><span class="nx">jQuery</span> <span class="o">-&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s">".tweets"</span><span class="p">).</span><span class="na">tweet</span>
    <span class="na">avatar_size</span><span class="o">:</span> <span class="mi">48</span>
    <span class="na">count</span><span class="o">:</span> <span class="mi">3</span>
    <span class="na">query</span><span class="o">:</span> <span class="s">"#memtech"</span>
</code></pre>
<div class='well'>
EDIT: This worked well until Twitter revised their API to require all requests to be authenticated.
</div>
</div><div id="minification" class="step" data-x="1247" data-y="6000" data-z="1564" data-rotate-y="309"><h2>Asset Minification and Hashes</h2>
<h4>source/stylesheets/application.css.sass</h4>
<pre class="highlight sass"><code><span class="nt">body</span><span class="nc">.impress-supported</span>
  <span class="nc">.fallback-message</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span>
  <span class="nc">.step</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">900px</span>
  <span class="nn">#title</span><span class="o">,</span> <span class="nn">#middleman</span><span class="o">,</span> <span class="nn">#demo</span><span class="o">,</span> <span class="nn">#meta-outside</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span>
</code></pre>
<h4>build/stylesheets/application-ea1c367d.css</h4>
<pre class="highlight css"><code><span class="nt">body</span><span class="nc">.impress-supported</span> <span class="nc">.fallback-message</span><span class="p">{</span><span class="nl">display</span><span class="p">:</span><span class="nb">none</span><span class="p">}</span><span class="nt">body</span><span class="nc">.impress-supported</span> <span class="nc">.step</span><span class="p">{</span><span class="nl">width</span><span class="p">:</span><span class="m">850px</span><span class="p">}</span><span class="nt">body</span><span class="nc">.impress-supported</span> <span class="nf">#title</span><span class="o">,</span><span class="nt">body</span><span class="nc">.impress-supported</span> <span class="nf">#middleman</span><span class="o">,</span><span class="nt">body</span><span class="nc">.impress-supported</span> <span class="nf">#demo</span><span class="o">,</span><span class="nt">body</span><span class="nc">.impress-supported</span> <span class="nf">#meta-outside</span><span class="p">{</span><span class="nl">text-align</span><span class="p">:</span><span class="nb">center</span><span class="p">}</span>
</code></pre>
</div><div id="demo" class="step" data-y="6000" data-rotate-y="360" data-scale="1.5"><h2>Live Demo</h2>
<p>What could go wrong?</p>
</div><div id="extensions" class="step" data-y="7000"><h2>Middleman Extensions</h2>
<dl>
<dt>Blogging functionality</dt>
<dd>
<a href='//github.com/middleman/middleman-blog'>github.com/middleman/middleman-blog</a>
</dd>
<dt>Syntax highlighting</dt>
<dd>
<a href='//github.com/middleman/middleman-syntax'>github.com/middleman/middleman-syntax</a>
</dd>
<dt>Deploy to Github Pages</dt>
<dd>
<a href='//github.com/neo/middleman-gh-pages'>github.com/neo/middleman-gh-pages</a>
</dd>
<dt>Deploy to most servers</dt>
<dd>
<a href='//github.com/tvaughan/middleman-deploy'>github.com/tvaughan/middleman-deploy</a>
</dd>
</dl>
</div><div id="resources" class="step" data-x="-200" data-y="7500" data-rotate-x="-90"><h2>Resources</h2>
<dl>
<dt>Middleman</dt>
<dd>
<a href='//middlemanapp.com'>middlemanapp.com</a>
</dd>
<dt>impress.js (3D slides)</dt>
<dd>
<a href='//bartaz.github.io/impress.js'>bartaz.github.io/impress.js</a>
</dd>
<dt>This Presentation</dt>
<dd>
<a href='//slides.joshwlewis.com/middleman'>slides.joshwlewis.com/middleman</a>
</dd>
<dt>Presentation Source</dt>
<dd>
<a href='//github.com/joshwlewis/slides'>github.com/joshwlewis/slides</a>
</dd>
</dl>
</div><div id="overview" class="step" data-y="3750" data-scale="6.5" data-rotate-x="20" data-rotate-z="70"></div>

</div>
<script src="../../javascripts/vendor/impress-c389aa57.js"></script>
<script src="../../javascripts/slides/body-a3539a0f.js"></script>
</body>
</html>
