<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<title>Build Your Own Ruby Gems | Josh W Lewis: Ruby Developer</title>
<meta content='A brief walkthrough on the process of creating your own RubyGems | Josh W Lewis: Ruby Developer, JavaScript Engineer, Consultant, Entrepreneur, and Husband' name='description'>
<meta content='width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
<meta content='Josh W Lewis' name='author'>
<link href="../../stylesheets/slides-f35eda66.css" rel="stylesheet" />
</head>
<body class='impress-not-supported'>
<div class='fallback-message'><h3>Your browser doesn&rsquo;t support the features needed to display this presentation.</h3>

<p>A simplified version of this presentation follows.</p>

<p>For the best experience, please use one of the following browsers:</p>

<ul>
<li><a href="//www.google.com/chrome">Chrome</a></li>
<li><a href="//www.apple.com/safari">Safari</a></li>
<li><a href="//www.mozilla.org/firefox">Firefox</a></li>
</ul>
</div>
<div id='impress'>
<div id="title" class="step"><h1>Build Your Own RubyGems</h1>
<br>
<h4>
Josh W Lewis
<a href='//twitter.com/joshwlewis'>@joshwlewis</a>
</h4>
<h4>
Memphis Ruby Users Group
</h4>
<date>8/26/2013</date>
</div><div id="rubygems" class="step" data-y="2000" data-rotate-z="180"><h2>RubyGems are:</h2>
<ul>
<li>Ruby code (mostly)</li>
<li>Open Source</li>
<li>APIs</li>
<li>Programs</li>
<li>Tools</li>
<li>Extensions</li>
</ul>
</div><div id="gem_list" class="step" data-x="1902" data-y="618" data-rotate-z="108"><h2>Over 60,000 gems at Rubygems.org</h2>
<ul>
<li>
<a href='//rubygems.org/gems/rails'>Ruby on Rails</a>
</li>
<li>
<a href='//rubygems.org/gems/sinatra'>Sinatra</a>
</li>
<li>
<a href='//rubygems.org/gems/vagrant'>Vagrant</a>
</li>
<li>
<a href='//rubygems.org/gems/rspec'>Rspec</a>
</li>
<li>
<a href='//rubygems.org/gems/rspec'>Rake</a>
</li>
</ul>
</div><div id="install_gems" class="step" data-x="1176" data-y="-1618" data-rotate-z="36"><h2>Installing a gem is easy:</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>gem install bubs
<span class="gp">$ </span>bubs is really useful
ⓘⓢ ⓡⓔⓐⓛⓛⓨ ⓤⓢⓔⓕⓤⓛ
</code></pre>
</div><div id="periodic_table" class="step" data-x="-1176" data-y="-1618" data-rotate-z="-36"><img src='//upload.wikimedia.org/wikipedia/commons/9/98/Periodic_table_%28polyatomic%29.svg'>
</div><div id="reinvent" class="step" data-x="-1902" data-y="618" data-rotate-z="-108"><h2>Don't reinvent the wheel</h2>
<p>
Check
<a href='//www.ruby-toolbox.com/'>Ruby-Toolbox.com</a>
and
<a href='//rubygems.org/'>RubyGems.org</a>
first.
</p>
</div><div id="skeleton" class="step" data-y="-4000" data-rotate-z="360"><h2>Build a gem skeleton:</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>bundle gem elementy
    create   elementy/Gemfile
    create   elementy/Rakefile
    create   elementy/LICENSE.txt
    create   elementy/README.md
    create   elementy/.gitignore
    create   elementy/elementy.gemspec
    create   elementy/lib/elementy.rb
    create   elementy/lib/elementy/version.rb
</code></pre>
</div><div id="gemspec" class="step" data-x="2000" data-y="-3464" data-rotate-z="390"><h2>Modify Gemspec</h2>
<pre class="highlight ruby"><code><span class="c1"># elementy.gemspec</span>
<span class="no">Gem</span><span class="o">::</span><span class="no">Specification</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">spec</span><span class="o">|</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">name</span>          <span class="o">=</span> <span class="s2">"elementy"</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">version</span>       <span class="o">=</span> <span class="no">Elementy</span><span class="o">::</span><span class="no">VERSION</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">authors</span>       <span class="o">=</span> <span class="p">[</span><span class="s2">"Josh Lewis"</span><span class="p">]</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">email</span>         <span class="o">=</span> <span class="p">[</span><span class="s2">"josh.w.lewis@gmail.com"</span><span class="p">]</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">description</span>   <span class="o">=</span> <span class="s2">"Lookup Data for Elements in the Periodic Table"</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">files</span>         <span class="o">=</span> <span class="sb">`git ls-files`</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="vg">$/</span><span class="p">)</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">executables</span>   <span class="o">=</span> <span class="n">spec</span><span class="p">.</span><span class="nf">files</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">%r{^bin/}</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="no">File</span><span class="p">.</span><span class="nf">basename</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">}</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">test_files</span>    <span class="o">=</span> <span class="n">spec</span><span class="p">.</span><span class="nf">files</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">%r{^test/}</span><span class="p">)</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">require_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"lib"</span><span class="p">]</span>

  <span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"bundler"</span><span class="p">,</span> <span class="s2">"~&gt; 1.3"</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"rake"</span>
<span class="k">end</span>
</code></pre>
</div><div id="data" class="step" data-x="3464" data-y="-2000" data-rotate-z="420"><h2>Add Data</h2>
<pre class="highlight yaml"><code><span class="pi">-</span> <span class="na">number</span><span class="pi">:</span> <span class="s">1</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Hydrogen</span>
  <span class="na">molar</span><span class="pi">:</span> <span class="s">1.00794</span>
  <span class="na">symbol</span><span class="pi">:</span> <span class="s">H</span>
<span class="pi">-</span> <span class="na">number</span><span class="pi">:</span> <span class="s">2</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">Helium</span>
  <span class="na">molar</span><span class="pi">:</span> <span class="s">4.002602</span>
  <span class="na">symbol</span><span class="pi">:</span> <span class="s">He</span>
</code></pre>
</div><div id="code" class="step" data-x="4000" data-rotate-z="450"><h2>Add Code</h2>
<pre class="highlight ruby"><code><span class="c1"># lib/elementy/element.rb</span>
<span class="k">module</span> <span class="nn">Elementy</span>
  <span class="k">class</span> <span class="nc">Element</span>
    <span class="kp">attr_accessor</span> <span class="ss">:number</span><span class="p">,</span> <span class="ss">:symbol</span><span class="p">,</span> <span class="ss">:name</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">search</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">term</span> <span class="o">=~</span> <span class="sr">/\A\d*\Z/</span>
        <span class="n">find</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">e</span><span class="p">.</span><span class="nf">number</span> <span class="o">==</span> <span class="n">term</span><span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span>
      <span class="k">else</span>
        <span class="n">find</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="p">[</span><span class="n">e</span><span class="p">.</span><span class="nf">symbol</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="nf">name</span><span class="p">].</span><span class="nf">include?</span> <span class="n">term</span><span class="p">.</span><span class="nf">upcase</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div><div id="tests" class="step" data-y="2000" data-x="3464" data-rotate-z="480"><h2>Add Tests</h2>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'test_helper'</span>
<span class="n">describe</span> <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span> <span class="k">do</span>
  <span class="n">it</span> <span class="s1">'::all must be an array'</span> <span class="k">do</span>
    <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span><span class="p">.</span><span class="nf">all</span><span class="p">.</span><span class="nf">must_be_instance_of</span> <span class="no">Array</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s1">'must be Enumerable'</span> <span class="k">do</span>
    <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span><span class="p">.</span><span class="nf">must_be_kind_of</span> <span class="no">Enumerable</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s1">'search'</span> <span class="k">do</span>
    <span class="n">it</span> <span class="s1">'should find by number'</span> <span class="k">do</span>
      <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="mi">12</span><span class="p">).</span><span class="nf">must_be_instance_of</span> <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div><div id="documentation" class="step" data-y="3464" data-x="2000" data-rotate-z="510"><h2>Add Documentation</h2>
<pre class="highlight ruby"><code>    <span class="c1"># Searches for and returns an element if found.</span>
    <span class="c1">#</span>
    <span class="c1"># @param term [string, symbol, integer] the name, </span>
    <span class="c1"># symbol, or atomic number to search for</span>
    <span class="c1"># @return [Elementy::Element]</span>
    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
      <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span><span class="p">.</span><span class="nf">search</span> <span class="n">term</span>
    <span class="k">end</span>
</code></pre>
</div><div id="executable" class="step" data-y="4000" data-rotate-z="540"><h2>Add Executables</h2>
<pre class="highlight ruby"><code><span class="c1"># bin/elementy</span>
<span class="c1">#!/usr/bin/env ruby</span>
<span class="vg">$:</span><span class="p">.</span><span class="nf">unshift</span> <span class="no">File</span><span class="p">.</span><span class="nf">expand_path</span><span class="p">(</span><span class="s1">'../../lib'</span><span class="p">,</span> <span class="kp">__FILE__</span><span class="p">)</span>
<span class="nb">require</span> <span class="s1">'elementy'</span>

<span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="nf">include?</span><span class="p">(</span><span class="s2">"--version"</span><span class="p">)</span> <span class="o">||</span> <span class="n">args</span><span class="p">.</span><span class="nf">include?</span><span class="p">(</span><span class="s2">"-v"</span><span class="p">)</span>
  <span class="nb">p</span> <span class="no">Elementy</span><span class="o">::</span><span class="no">VERSION</span>
<span class="k">else</span>
  <span class="k">if</span> <span class="n">element</span> <span class="o">=</span> <span class="no">Elementy</span><span class="o">::</span><span class="no">Element</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="nf">first</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="n">element</span><span class="p">.</span><span class="nf">to_console</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Could not find element </span><span class="si">#{</span><span class="n">args</span><span class="p">.</span><span class="nf">first</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div><div id="version" class="step" data-x="-2000" data-y="3464" data-rotate-z="570"><h2>Change Version</h2>
<pre class="highlight ruby"><code><span class="c1"># lib/elementy/version.rb</span>
<span class="k">module</span> <span class="nn">Elementy</span>
  <span class="no">VERSION</span> <span class="o">=</span> <span class="s2">"0.1.0"</span>
<span class="k">end</span>
</code></pre>
</div><div id="build" class="step" data-x="-3464" data-y="2000" data-rotate-z="600"><h2>Build Gem</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>gem build elementy.gemspec
  Successfully built RubyGem
  Name: elementy
  Version: 0.1.0
  File: elementy-0.1.0.gem
</code></pre>
</div><div id="push" class="step" data-x="-4000" data-rotate-z="630"><h2>Push to Rubygems</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>gem push elementy-0.1.0.gem
Pushing gem to https://rubygems.org...
Successfully registered gem: elementy <span class="o">(</span>0.1.0<span class="o">)</span>
</code></pre>
</div><div id="live" class="step" data-x="-3464" data-y="-2000" data-rotate-z="660"><h2>It's alive!</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>gem install elementy
Successfully installed elementy-0.1.0
1 gem installed
<span class="gp">$ </span>elementy 42
   symbol:      Mo
   name:        Molybdenum
   number:      42
   molar:       95.96
   position:    5
   group:       Element Transition d
   electrons:   <span class="o">[</span>2, 8, 18, 13, 1]
</code></pre>
</div><div id="info" class="step" data-x="-2000" data-y="-3464" data-rotate-z="690"><h2>More info</h2>
<ul>
<li>
<a href='//rubygems.org/gems/elementy'>Elementy on Rubygems</a>
</li>
<li>
<a href='//github.com/joshwlewis/elementy'>Elementy on Github</a>
</li>
<li>
<a href='//rubydoc.info/gems/elementy/0.1.1/frames'>Elementy on Rubydoc</a>
</li>
</ul>
</div><div id="overview" class="step" data-scale="12" data-rotate-z="360"></div>

</div>
<script src="../../javascripts/vendor/impress-c389aa57.js"></script>
<script src="../../javascripts/slides/body-a3539a0f.js"></script>
</body>
</html>
